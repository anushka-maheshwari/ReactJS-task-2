{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport axios from 'axios';\n\nconst useForecast = () => {\n  _s();\n\n  const [isError, setError] = useState(false);\n  const [isLoading, setLoading] = useState(false);\n  const [forecast, setForecast] = useState(null);\n\n  const getData = async location => {\n    const response = await axios(`http://api.openweathermap.org/geo/1.0/direct?q=${location}&appid=8daa67bc5aa6f4004f105953f01aadfd`);\n\n    if (!response || response.length === 0) {\n      setError('There is no such location');\n      setLoading(false);\n      return;\n    }\n\n    return response.data[0];\n  };\n\n  const getForecastData = async data => {\n    console.log(data);\n    const lat = data.lat;\n    const lon = data.lon;\n    console.log(lat, lon);\n    const {\n      response\n    } = await axios(`http://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=8daa67bc5aa6f4004f105953f01aadfd`);\n\n    if (!response || response.length === 0) {\n      setError('Something went wrong');\n      setLoading(false);\n      return;\n    }\n\n    console.log(response);\n    const [data1] = [response.data.main.temp, response.data.main.temp_max, response.data.main.temp_min, response.data.main.feels_like, response.data.sys.sunrise, response.data.sys.sunset];\n    console.log(data1);\n    return data1;\n  };\n\n  const submitRequest = async location => {\n    setLoading(true);\n    setError(false);\n    const response = await getData(location);\n    if (!response) return;\n    const data = await getForecastData(response);\n    if (!data) return;\n    console.lat(data);\n  };\n\n  return {\n    isError,\n    isLoading,\n    forecast,\n    submitRequest\n  };\n};\n\n_s(useForecast, \"98jJfAbkRG8B5Phem9UEdOko1FU=\");\n\nexport default useForecast;","map":{"version":3,"sources":["/Users/anushka.maheshwari/Desktop/react-task2/src/hooks/useForecast.js"],"names":["useState","axios","useForecast","isError","setError","isLoading","setLoading","forecast","setForecast","getData","location","response","length","data","getForecastData","console","log","lat","lon","data1","main","temp","temp_max","temp_min","feels_like","sys","sunrise","sunset","submitRequest"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,MAAMC,WAAW,GAAG,MAAM;AAAA;;AACtB,QAAM,CAACC,OAAD,EAAUC,QAAV,IAAsBJ,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAACK,SAAD,EAAYC,UAAZ,IAA0BN,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,IAAD,CAAxC;;AAEA,QAAMS,OAAO,GAAG,MAAMC,QAAN,IAAkB;AAC9B,UAAOC,QAAQ,GAAG,MAAMV,KAAK,CAAE,kDAAiDS,QAAS,yCAA5D,CAA7B;;AACA,QAAI,CAACC,QAAD,IAAaA,QAAQ,CAACC,MAAT,KAAoB,CAArC,EAAwC;AACpCR,MAAAA,QAAQ,CAAC,2BAAD,CAAR;AACAE,MAAAA,UAAU,CAAC,KAAD,CAAV;AACA;AACH;;AACD,WAAOK,QAAQ,CAACE,IAAT,CAAc,CAAd,CAAP;AACH,GARD;;AAUA,QAAMC,eAAe,GAAG,MAAMD,IAAN,IAAc;AAClCE,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,UAAMI,GAAG,GAACJ,IAAI,CAACI,GAAf;AACA,UAAMC,GAAG,GAACL,IAAI,CAACK,GAAf;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ,EAAgBC,GAAhB;AACA,UAAM;AAAEP,MAAAA;AAAF,QAAe,MAAMV,KAAK,CAAE,sDAAqDgB,GAAI,QAAOC,GAAI,yCAAtE,CAAhC;;AAEA,QAAI,CAACP,QAAD,IAAaA,QAAQ,CAACC,MAAT,KAAoB,CAArC,EAAwC;AACpCR,MAAAA,QAAQ,CAAC,sBAAD,CAAR;AACAE,MAAAA,UAAU,CAAC,KAAD,CAAV;AACA;AACH;;AACDS,IAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACA,UAAM,CAACQ,KAAD,IAAQ,CAACR,QAAQ,CAACE,IAAT,CAAcO,IAAd,CAAmBC,IAApB,EAAyBV,QAAQ,CAACE,IAAT,CAAcO,IAAd,CAAmBE,QAA5C,EAAqDX,QAAQ,CAACE,IAAT,CAAcO,IAAd,CAAmBG,QAAxE,EAAiFZ,QAAQ,CAACE,IAAT,CAAcO,IAAd,CAAmBI,UAApG,EACVb,QAAQ,CAACE,IAAT,CAAcY,GAAd,CAAkBC,OADR,EACgBf,QAAQ,CAACE,IAAT,CAAcY,GAAd,CAAkBE,MADlC,CAAd;AAEAZ,IAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACA,WAAOA,KAAP;AACH,GAjBD;;AAmBA,QAAMS,aAAa,GAAG,MAAMlB,QAAN,IAAkB;AACpCJ,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAF,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACA,UAAMO,QAAQ,GAAG,MAAMF,OAAO,CAACC,QAAD,CAA9B;AACA,QAAG,CAACC,QAAJ,EAAc;AACd,UAAME,IAAI,GAAG,MAAMC,eAAe,CAACH,QAAD,CAAlC;AACA,QAAI,CAACE,IAAL,EAAW;AAEXE,IAAAA,OAAO,CAACE,GAAR,CAAYJ,IAAZ;AACH,GATD;;AAWA,SAAO;AACHV,IAAAA,OADG;AAEHE,IAAAA,SAFG;AAGHE,IAAAA,QAHG;AAIHqB,IAAAA;AAJG,GAAP;AAMH,CAnDD;;GAAM1B,W;;AAsDN,eAAeA,WAAf","sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nconst useForecast = () => {\n    const [isError, setError] = useState(false);\n    const [isLoading, setLoading] = useState(false);\n    const [forecast, setForecast] = useState(null);\n\n    const getData = async location => {\n        const  response = await axios(`http://api.openweathermap.org/geo/1.0/direct?q=${location}&appid=8daa67bc5aa6f4004f105953f01aadfd`);\n        if (!response || response.length === 0) {\n            setError('There is no such location');\n            setLoading(false);\n            return;\n        }\n        return response.data[0];\n    };\n\n    const getForecastData = async data => {\n        console.log(data);\n        const lat=data.lat;\n        const lon=data.lon;\n        console.log(lat,lon);\n        const { response } = await axios(`http://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=8daa67bc5aa6f4004f105953f01aadfd`);\n\n        if (!response || response.length === 0) {\n            setError('Something went wrong');\n            setLoading(false);\n            return;\n        }\n        console.log(response);\n        const [data1]=[response.data.main.temp,response.data.main.temp_max,response.data.main.temp_min,response.data.main.feels_like,\n            response.data.sys.sunrise,response.data.sys.sunset]\n        console.log(data1);\n        return data1;\n    };\n\n    const submitRequest = async location => {\n        setLoading(true);\n        setError(false);\n        const response = await getData(location);\n        if(!response) return;\n        const data = await getForecastData(response);\n        if (!data) return;\n\n        console.lat(data);\n    };\n\n    return {\n        isError,\n        isLoading,\n        forecast,\n        submitRequest,\n    };\n};\n\n\nexport default useForecast;"]},"metadata":{},"sourceType":"module"}